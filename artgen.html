<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artistic Prompt Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        .tabs {
            display: flex;
            background: white;
            border-radius: 10px 10px 0 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .tab-button {
            flex: 1;
            padding: 15px 20px;
            background: #ecf0f1;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            border-right: 1px solid #bdc3c7;
        }
        
        .tab-button:last-child {
            border-right: none;
        }
        
        .tab-button.active {
            background: #3498db;
            color: white;
        }
        
        .tab-button:hover:not(.active) {
            background: #d5dbdb;
        }
        
        .tab-content {
            background: white;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
            min-height: 600px;
        }
        
        .tab-pane {
            display: none;
        }
        
        .tab-pane.active {
            display: block;
        }
        
        .choices-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .choice-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        
        .choice-item label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .choice-item textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
        }
        
        .button-group {
            margin-top: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
        }
        
        .btn-success:hover {
            background: #229954;
        }
        
        .btn-info {
            background: #17a2b8;
            color: white;
        }
        
        .btn-info:hover {
            background: #138496;
        }
        
        .templates-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            background: white;
            font-size: 12px;
        }
        
        .templates-table th,
        .templates-table td {
            border: 1px solid #dee2e6;
            padding: 8px;
            text-align: center;
        }
        
        .templates-table th {
            background: #f8f9fa;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .templates-table th:first-child {
            text-align: left;
            min-width: 140px;
        }
        
        .templates-table td:first-child {
            text-align: left;
            font-weight: 500;
            background: #f8f9fa;
        }
        
        .templates-table input[type="checkbox"] {
            transform: scale(1.2);
        }
        
        .generate-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        
        .generate-table th,
        .generate-table td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }
        
        .generate-table th {
            background: #f8f9fa;
            font-weight: bold;
        }
        
        .generate-table input[type="number"] {
            width: 60px;
            padding: 5px;
            text-align: center;
            border: 1px solid #ced4da;
            border-radius: 4px;
        }
        
        .template-elements {
            font-size: 12px;
            color: #6c757d;
            line-height: 1.4;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .modal-content {
            background-color: white;
            margin: 50px auto;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            border: none;
            background: none;
        }
        
        .close:hover {
            color: #333;
        }
        
        .generated-prompts {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            max-height: 500px;
            overflow-y: auto;
            line-height: 1.6;
        }
        
        .file-input {
            margin-top: 10px;
        }
        
        .table-container {
            overflow-x: auto;
            margin-bottom: 20px;
        }
        
        .example-prompt {
            background: #e8f4fc;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 4px 4px 0;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .tab-content {
                padding: 15px;
            }
            
            .templates-table,
            .generate-table {
                font-size: 11px;
            }
            
            .templates-table th,
            .templates-table td,
            .generate-table th,
            .generate-table td {
                padding: 6px;
            }
            
            .choices-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Artistic Prompt Generator</h1>
        
        <div class="example-prompt">
            <strong>Example Output:</strong> "Portrait orientation, rule of thirds composition, impressionist style inspired by Monet, vibrant tropical sunset color palette, golden hour lighting, watercolor medium with visible brushstrokes, serene mood, framed in beveled black laquer."
        </div>
        
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('choices')">Choices</button>
            <button class="tab-button" onclick="showTab('templates')">Templates</button>
            <button class="tab-button" onclick="showTab('generate')">Generate</button>
        </div>
        
        <div class="tab-content">
            
            <div id="choices" class="tab-pane active">
                <h2>Artistic Element Choices</h2>
                <div class="choices-container" id="choicesContainer">
                    
                </div>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveChoices()">Save Choices</button>
                    <button class="btn btn-success" onclick="exportChoices()">Export Choices</button>
                    <button class="btn btn-info" onclick="document.getElementById('importChoicesFile').click()">Import Choices</button>
                    <input type="file" id="importChoicesFile" class="file-input" style="display: none;" accept=".json" onchange="importChoices(event)">
                </div>
            </div>
            
            
            <div id="templates" class="tab-pane">
                <h2>Template Matrix</h2>
                <div class="table-container">
                    <table class="templates-table" id="templatesTable">
                        
                    </table>
                </div>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveTemplates()">Save Templates</button>
                    <button class="btn btn-success" onclick="exportTemplates()">Export Templates</button>
                    <button class="btn btn-info" onclick="document.getElementById('importTemplatesFile').click()">Import Templates</button>
                    <input type="file" id="importTemplatesFile" class="file-input" style="display: none;" accept=".json" onchange="importTemplates(event)">
                </div>
            </div>
            
            
            <div id="generate" class="tab-pane">
                <h2>Generate Artistic Prompts</h2>
                <div class="table-container">
                    <table class="generate-table" id="generateTable">
                        <thead>
                            <tr>
                                <th>Template</th>
                                <th>Number of Prompts</th>
                                <th>Template Elements</th>
                            </tr>
                        </thead>
                        <tbody id="generateTableBody">
                            
                        </tbody>
                    </table>
                </div>
                <div class="button-group">
                    <button class="btn btn-success" onclick="generatePrompts()">Generate Prompts</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <div id="promptModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Generated Prompts</h2>
                <button class="close" onclick="closeModal()">&times;</button>
            </div>
            <div class="generated-prompts" id="generatedPrompts"></div>
            <div class="button-group">
                <button class="btn btn-primary" onclick="copyToClipboard()">Copy to Clipboard</button>
            </div>
        </div>
    </div>

    <script>
        // Default data - 10 categories with 20 options each
        const defaultChoices = {
            'Orientation': [
                'Portrait orientation', 'Landscape orientation', 'Square format', 'Panoramic view', 'Close-up detail',
                'Bird\'s eye view', 'Worm\'s eye view', 'Macro perspective', 'Wide angle', 'Telephoto zoom',
                'Symmetrical framing', 'Asymmetrical framing', 'Rule of thirds composition', 'Centered subject', 'Golden spiral composition',
                'Diagonal lines composition', 'Leading lines composition', 'Minimalist framing', 'Layered depth', 'Split composition'
            ],
            'Composition': [
                'Rule of thirds', 'Symmetrical balance', 'Golden spiral', 'Leading lines', 'Minimalist',
                'Layered depth', 'Negative space', 'Centered subject', 'Off-center focus', 'Framing within frame',
                'Diagonal lines', 'Radial composition', 'Balanced asymmetry', 'Dynamic tension', 'Visual weight distribution',
                'Color blocking', 'Texture contrast', 'Scale variation', 'Perspective lines', 'Harmonious arrangement'
            ],
            'Style': [
                'Photorealistic', 'Impressionist', 'Surrealist', 'Abstract', 'Expressionist',
                'Minimalist', 'Pop art', 'Cubist', 'Fauvist', 'Art nouveau',
                'Art deco', 'Baroque', 'Renaissance', 'Romantic', 'Modern',
                'Contemporary', 'Conceptual', 'Hyperrealistic', 'Naive', 'Graphic'
            ],
            'Artist Influence': [
                'Edward Hopper', 'Francisco Goya', 'Vincent Van Gogh', 'Claude Monet', 'Pablo Picasso',
                'Salvador Dali', 'Johannes Vermeer', 'Caravaggio', 'Rembrandt', 'Jackson Pollock',
                'Frida Kahlo', 'Georgia O\'Keeffe', 'Andy Warhol', 'Gustav Klimt', 'Henri Matisse',
                'Paul Cezanne', 'Albrecht Durer', 'Edvard Munch', 'Winslow Homer', 'John Singer Sargent'
            ],
            'Color Palette': [
                'Vibrant tropical sunset', 'Warm earth tones', 'Cool blues and greens', 'Soft pastels', 'Rich jewel tones',
                'Monochromatic black and white', 'Nature-inspired greens', 'Sunset oranges and pinks', 'Calm blues and whites', 'Muted grays and beiges',
                'High contrast complementary', 'Analogous color scheme', 'Triadic color harmony', 'Split-complementary', 'Tetradic color scheme',
                'Monochromatic variations', 'Warm color dominance', 'Cool color dominance', 'Earthy neutrals', 'Vibrant primary colors'
            ],
            'Lighting': [
                'Golden hour lighting', 'Dramatic chiaroscuro', 'Soft natural light', 'Cinematic lighting', 'Backlit silhouette',
                'Rembrandt lighting', 'Butterfly lighting', 'Split lighting', 'Broad lighting', 'Short lighting',
                'Overhead lighting', 'Side lighting', 'Front lighting', 'Backlighting', 'Rim lighting',
                'Volumetric lighting', 'Softbox lighting', 'Hard shadow lighting', 'Diffused lighting', 'Spotlight effect'
            ],
            'Medium': [
                'Watercolor', 'Oil paint', 'Pencil drawing', 'Charcoal sketch', 'Digital art',
                'Acrylic paint', 'Ink illustration', 'Pastel drawing', 'Mixed media', 'Collage',
                'Encaustic', 'Tempera', 'Fresco', 'Gouache', 'Screen print',
                'Etching', 'Lithograph', 'Woodcut', 'Spray paint', 'Airbrush'
            ],
            'Texture': [
                'Smooth finish', 'Grainy texture', 'Impasto technique', 'Blended gradients', 'Stippled dots',
                'Cross-hatched lines', 'Rough canvas', 'Smooth paper', 'Layered paint', 'Visible brushstrokes',
                'Textured paper', 'Grainy film', 'Soft focus', 'Hard edges', 'Matte finish',
                'Glossy finish', 'Watercolor blooms', 'Pencil shading', 'Charcoal smudging', 'Digital pixelation'
            ],
            'Mood': [
                'Serene calm', 'Dramatic tension', 'Whimsical playfulness', 'Melancholic reflection', 'Euphoric joy',
                'Mysterious intrigue', 'Nostalgic memory', 'Peaceful tranquility', 'Intense emotion', 'Quiet contemplation',
                'Dreamy atmosphere', 'Vibrant energy', 'Somber reflection', 'Romantic sentiment', 'Surreal disorientation',
                'Harmonious balance', 'Dynamic movement', 'Timeless elegance', 'Modern edge', 'Classic refinement'
            ],
            'Frame': [
                'Beveled black laquer', 'Vintage wooden', 'Floating frame', 'No frame', 'Ornate gold',
                'Simple white', 'Dark walnut', 'Silver metallic', 'Rustic barnwood', 'Minimalist black',
                'Ornate white', 'Gallery wrapped', 'Shadow box', 'Double mat', 'Single mat',
                'Floater frame', 'Picture frame', 'Display case', 'Canvas wrap', 'Digital presentation'
            ]
        };

        // Default template matrix - 5 templates with different combinations
        const defaultTemplates = {
            'Template 1: Basic Composition': ['Orientation', 'Composition', 'Style', 'Color Palette', 'Lighting', 'Medium', 'Mood', 'Frame'],
            'Template 2: Artist Tribute': ['Orientation', 'Composition', 'Artist Influence', 'Color Palette', 'Lighting', 'Medium', 'Texture', 'Mood'],
            'Template 3: Medium Exploration': ['Orientation', 'Composition', 'Style', 'Color Palette', 'Lighting', 'Medium', 'Texture', 'Frame'],
            'Template 4: Mood & Atmosphere': ['Orientation', 'Composition', 'Style', 'Color Palette', 'Lighting', 'Texture', 'Mood', 'Frame'],
            'Template 5: Masterpiece Creation': ['Orientation', 'Composition', 'Style', 'Artist Influence', 'Color Palette', 'Lighting', 'Medium', 'Texture', 'Mood', 'Frame']
        };

        let currentChoices = {...defaultChoices};
        let currentTemplates = {...defaultTemplates};

        // Initialize the application
        function init() {
            loadData();
            renderChoices();
            renderTemplates();
            renderGenerate();
        }

        // Tab functionality
        function showTab(tabName) {
            // Hide all tab panes
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab pane
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Load data from localStorage
        function loadData() {
            const savedChoices = localStorage.getItem('artPromptChoices');
            const savedTemplates = localStorage.getItem('artPromptTemplates');
            
            if (savedChoices) {
                currentChoices = JSON.parse(savedChoices);
            }
            
            if (savedTemplates) {
                currentTemplates = JSON.parse(savedTemplates);
            }
        }

        // Render choices tab
        function renderChoices() {
            const container = document.getElementById('choicesContainer');
            container.innerHTML = '';
            
            Object.keys(currentChoices).forEach(element => {
                const choiceItem = document.createElement('div');
                choiceItem.className = 'choice-item';
                
                choiceItem.innerHTML = `
                    <label for="${element.replace(/[^a-zA-Z0-9]/g, '')}">${element}</label>
                    <textarea id="${element.replace(/[^a-zA-Z0-9]/g, '')}" placeholder="Enter choices separated by commas">${currentChoices[element].join(', ')}</textarea>
                `;
                
                container.appendChild(choiceItem);
            });
        }

        // Render templates tab
        function renderTemplates() {
            const table = document.getElementById('templatesTable');
            const elements = Object.keys(currentChoices);
            const templates = Object.keys(currentTemplates);
            
            let headerHTML = '<thead><tr><th>Artistic Element</th>';
            templates.forEach(template => {
                headerHTML += `<th>${template}</th>`;
            });
            headerHTML += '</tr></thead>';
            
            let bodyHTML = '<tbody>';
            elements.forEach(element => {
                bodyHTML += `<tr><td>${element}</td>`;
                templates.forEach(template => {
                    const isChecked = currentTemplates[template].includes(element) ? 'checked' : '';
                    bodyHTML += `<td><input type="checkbox" ${isChecked} onchange="updateTemplate('${template}', '${element}', this.checked)"></td>`;
                });
                bodyHTML += '</tr>';
            });
            bodyHTML += '</tbody>';
            
            table.innerHTML = headerHTML + bodyHTML;
        }

        // Render generate tab
        function renderGenerate() {
            const tbody = document.getElementById('generateTableBody');
            tbody.innerHTML = '';
            
            Object.keys(currentTemplates).forEach(templateName => {
                const row = document.createElement('tr');
                const elements = currentTemplates[templateName];
                
                row.innerHTML = `
                    <td><strong>${templateName}</strong></td>
                    <td><input type="number" id="count-${templateName}" value="20" min="1" max="100"></td>
                    <td class="template-elements">${elements.join(', ')}</td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // Update template matrix
        function updateTemplate(template, element, isChecked) {
            if (isChecked) {
                if (!currentTemplates[template].includes(element)) {
                    currentTemplates[template].push(element);
                }
            } else {
                const index = currentTemplates[template].indexOf(element);
                if (index > -1) {
                    currentTemplates[template].splice(index, 1);
                }
            }
            renderGenerate(); // Update the generate tab to reflect changes
        }

        // Save choices to localStorage
        function saveChoices() {
            const elements = Object.keys(currentChoices);
            
            elements.forEach(element => {
                const elementId = element.replace(/[^a-zA-Z0-9]/g, '');
                const textarea = document.getElementById(elementId);
                if (textarea) {
                    const value = textarea.value.trim();
                    currentChoices[element] = value ? value.split(',').map(item => item.trim()).filter(item => item) : [];
                }
            });
            
            localStorage.setItem('artPromptChoices', JSON.stringify(currentChoices));
            alert('Choices saved successfully!');
        }

        // Save templates to localStorage
        function saveTemplates() {
            localStorage.setItem('artPromptTemplates', JSON.stringify(currentTemplates));
            alert('Templates saved successfully!');
        }

        // Export choices
        function exportChoices() {
            const dataStr = JSON.stringify(currentChoices, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = 'art-prompt-choices.json';
            link.click();
        }

        // Export templates
        function exportTemplates() {
            const dataStr = JSON.stringify(currentTemplates, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = 'art-prompt-templates.json';
            link.click();
        }

        // Import choices
        function importChoices(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const imported = JSON.parse(e.target.result);
                        currentChoices = imported;
                        renderChoices();
                        alert('Choices imported successfully!');
                    } catch (error) {
                        alert('Error importing choices: Invalid JSON file');
                    }
                };
                reader.readAsText(file);
            }
        }

        // Import templates
        function importTemplates(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const imported = JSON.parse(e.target.result);
                        currentTemplates = imported;
                        renderTemplates();
                        renderGenerate();
                        alert('Templates imported successfully!');
                    } catch (error) {
                        alert('Error importing templates: Invalid JSON file');
                    }
                };
                reader.readAsText(file);
            }
        }

        // Generate prompts
        function generatePrompts() {
            let allPrompts = [];
            
            Object.keys(currentTemplates).forEach(templateName => {
                const countInput = document.getElementById(`count-${templateName}`);
                const count = parseInt(countInput.value) || 20;
                const elements = currentTemplates[templateName];
                
                for (let i = 0; i < count; i++) {
                    let promptData = {};
                    
                    // Collect random choices for each element
                    elements.forEach(element => {
                        if (currentChoices[element] && currentChoices[element].length > 0) {
                            const randomChoice = currentChoices[element][Math.floor(Math.random() * currentChoices[element].length)];
                            promptData[element] = randomChoice;
                        }
                    });
                    
                    // Create natural language prompt
                    let prompt = createNaturalPrompt(promptData, templateName);
                    allPrompts.push(prompt);
                }
            });
            
            document.getElementById('generatedPrompts').textContent = allPrompts.join('\n\n');
            document.getElementById('promptModal').style.display = 'block';
        }

        // Create natural language prompt from data
        function createNaturalPrompt(data, templateName) {
            // Template-specific formatting
            if (templateName.includes('Basic Composition')) {
                return formatBasicComposition(data);
            } else if (templateName.includes('Artist Tribute')) {
                return formatArtistTribute(data);
            } else if (templateName.includes('Medium Exploration')) {
                return formatMediumExploration(data);
            } else if (templateName.includes('Mood & Atmosphere')) {
                return formatMoodAtmosphere(data);
            } else if (templateName.includes('Masterpiece Creation')) {
                return formatMasterpiece(data);
            }
            
            // Default format if template name doesn't match
            return formatMasterpiece(data);
        }

        // Format for Basic Composition template
        function formatBasicComposition(data) {
            let parts = [];
            
            // Start with orientation
            if (data['Orientation']) {
                parts.push(data['Orientation'].replace(' orientation', ''));
            }
            
            // Add composition
            if (data['Composition']) {
                parts.push(data['Composition'].replace(' composition', ''));
            }
            
            // Add style
            if (data['Style']) {
                parts.push(data['Style']);
            }
            
            // Add color palette
            if (data['Color Palette']) {
                parts.push(data['Color Palette']);
            }
            
            // Add lighting
            if (data['Lighting']) {
                parts.push(data['Lighting']);
            }
            
            // Add medium
            if (data['Medium']) {
                parts.push(data['Medium']);
            }
            
            // Add mood
            if (data['Mood']) {
                parts.push(data['Mood']);
            }
            
            // Add frame
            if (data['Frame']) {
                parts.push(data['Frame']);
            }
            
            return parts.join(', ') + '.';
        }

        // Format for Artist Tribute template
        function formatArtistTribute(data) {
            let parts = [];
            
            // Start with orientation
            if (data['Orientation']) {
                parts.push(data['Orientation'].replace(' orientation', ''));
            }
            
            // Add composition
            if (data['Composition']) {
                parts.push(data['Composition'].replace(' composition', ''));
            }
            
            // Add artist influence
            if (data['Artist Influence']) {
                parts.push(`in the style of ${data['Artist Influence']}`);
            }
            
            // Add color palette
            if (data['Color Palette']) {
                parts.push(data['Color Palette']);
            }
            
            // Add lighting
            if (data['Lighting']) {
                parts.push(data['Lighting']);
            }
            
            // Add medium
            if (data['Medium']) {
                parts.push(data['Medium']);
            }
            
            // Add texture
            if (data['Texture']) {
                parts.push(data['Texture']);
            }
            
            // Add mood
            if (data['Mood']) {
                parts.push(data['Mood']);
            }
            
            return parts.join(', ') + '.';
        }

        // Format for Medium Exploration template
        function formatMediumExploration(data) {
            let parts = [];
            
            // Start with orientation
            if (data['Orientation']) {
                parts.push(data['Orientation'].replace(' orientation', ''));
            }
            
            // Add composition
            if (data['Composition']) {
                parts.push(data['Composition'].replace(' composition', ''));
            }
            
            // Add style
            if (data['Style']) {
                parts.push(data['Style']);
            }
            
            // Add color palette
            if (data['Color Palette']) {
                parts.push(data['Color Palette']);
            }
            
            // Add lighting
            if (data['Lighting']) {
                parts.push(data['Lighting']);
            }
            
            // Add medium with emphasis
            if (data['Medium']) {
                parts.push(`showcasing the unique qualities of ${data['Medium']}`);
            }
            
            // Add texture
            if (data['Texture']) {
                parts.push(data['Texture']);
            }
            
            // Add frame
            if (data['Frame']) {
                parts.push(data['Frame']);
            }
            
            return parts.join(', ') + '.';
        }

        // Format for Mood & Atmosphere template
        function formatMoodAtmosphere(data) {
            let parts = [];
            
            // Start with orientation
            if (data['Orientation']) {
                parts.push(data['Orientation'].replace(' orientation', ''));
            }
            
            // Add composition
            if (data['Composition']) {
                parts.push(data['Composition'].replace(' composition', ''));
            }
            
            // Add style
            if (data['Style']) {
                parts.push(data['Style']);
            }
            
            // Add color palette
            if (data['Color Palette']) {
                parts.push(data['Color Palette']);
            }
            
            // Add lighting
            if (data['Lighting']) {
                parts.push(data['Lighting']);
            }
            
            // Add texture
            if (data['Texture']) {
                parts.push(data['Texture']);
            }
            
            // Add mood with emphasis
            if (data['Mood']) {
                parts.push(`evoking a ${data['Mood']} feeling`);
            }
            
            // Add frame
            if (data['Frame']) {
                parts.push(data['Frame']);
            }
            
            return parts.join(', ') + '.';
        }

        // Format for Masterpiece Creation template
        function formatMasterpiece(data) {
            let parts = [];
            
            // Start with orientation
            if (data['Orientation']) {
                parts.push(data['Orientation'].replace(' orientation', ''));
            }
            
            // Add composition
            if (data['Composition']) {
                parts.push(data['Composition'].replace(' composition', ''));
            }
            
            // Add style
            if (data['Style']) {
                parts.push(data['Style']);
            }
            
            // Add artist influence
            if (data['Artist Influence']) {
                parts.push(`influenced by ${data['Artist Influence']}`);
            }
            
            // Add color palette
            if (data['Color Palette']) {
                parts.push(data['Color Palette']);
            }
            
            // Add lighting
            if (data['Lighting']) {
                parts.push(data['Lighting']);
            }
            
            // Add medium
            if (data['Medium']) {
                parts.push(data['Medium']);
            }
            
            // Add texture
            if (data['Texture']) {
                parts.push(data['Texture']);
            }
            
            // Add mood
            if (data['Mood']) {
                parts.push(data['Mood']);
            }
            
            // Add frame
            if (data['Frame']) {
                parts.push(data['Frame']);
            }
            
            return parts.join(', ') + '.';
        }

        // Close modal
        function closeModal() {
            document.getElementById('promptModal').style.display = 'none';
        }

        // Copy to clipboard
        async function copyToClipboard() {
            const text = document.getElementById('generatedPrompts').textContent;
            
            // Format for spreadsheet - each prompt on its own line
            const formattedText = text.split('\n\n').filter(line => line.trim()).join('\n');
            
            try {
                await navigator.clipboard.writeText(formattedText);
                alert('Prompts copied to clipboard! Each prompt will paste into its own spreadsheet row.');
            } catch (err) {
                // Fallback for browsers that don't support clipboard API
                const textArea = document.createElement('textarea');
                textArea.value = formattedText;
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    alert('Prompts copied to clipboard! Each prompt will paste into its own spreadsheet row.');
                } catch (fallbackErr) {
                    alert('Failed to copy to clipboard. Please manually select and copy the text.');
                }
                
                document.body.removeChild(textArea);
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('promptModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }

        // Initialize the app when the page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
